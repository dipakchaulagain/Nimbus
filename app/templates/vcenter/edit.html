{% extends 'base.html' %}
{% block content %}
<h3>Edit vCenter Configuration</h3>
<form method="post" class="mt-3" onsubmit="return validateForm()">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Name</label>
      <input class="form-control" name="name" value="{{ cfg.name }}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label">Host</label>
      <input class="form-control" name="host" value="{{ cfg.host }}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label">Username</label>
      <input class="form-control" name="username" value="{{ cfg.username }}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label">Password</label>
      <input type="password" class="form-control" name="password" placeholder="••••••" />
    </div>
    <div class="col-md-3 form-check mt-4">
      <input class="form-check-input" type="checkbox" name="disable_ssl" id="disable_ssl" {% if cfg.disable_ssl %}checked{% endif %}>
      <label class="form-check-label" for="disable_ssl">Disable SSL Verify</label>
    </div>
    <div class="col-md-3 form-check mt-4">
      <input class="form-check-input" type="checkbox" name="enabled" id="enabled" {% if cfg.enabled %}checked{% endif %}>
      <label class="form-check-label" for="enabled">Enabled</label>
    </div>
  </div>
  <div class="mt-4">
    <button class="btn btn-primary" type="submit">Save</button>
    <a class="btn btn-secondary" href="/vcenter/">Cancel</a>
  </div>
</form>
{% endblock %}

{% block scripts %}
<script>
  function validateForm() {
    const name = document.querySelector('input[name="name"]').value.trim();
    const host = document.querySelector('input[name="host"]').value.trim();
    const username = document.querySelector('input[name="username"]').value.trim();
    if(!name || !host || !username) { alert('Name, Host, and Username are required'); return false; }
    return true;
  }
</script>
{% endblock %}

